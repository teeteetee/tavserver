doctype html(lang='en')
head
    meta(charset='utf-8')
    |     
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    |     
    meta(name='viewport', content='width=device-width, initial-scale=1')
    |     
    title Top
    // Bootstrap
    link(href='/bootstrap/css/bootstrap.min.css', rel='stylesheet')
    |     
    link(href='https://api.tiles.mapbox.com/mapbox.js/v1.6.3/mapbox.css', rel='stylesheet')
    style.
      body {
      min-width:768px;
      }
      @font-face {
      font-family:roboto-thin;
      src:url('/bootstrap/fonts/Roboto-Thin.ttf');
      }
      @font-face {
      font-family:attentica;
      src:url('/bootstrap/fonts/Attentica.ttf');
      }
      @font-face {
      font-family:br;
      src:url('/bootstrap/fonts/bebasneue_regular.ttf');
      }
      .container {
      width:100%;
      margin-left:0px;
      padding-left:0px;
      }
      #header{
      text-align:center;
      }
      h1 {
      font-family:roboto-thin;
      font-size:4vw;
      display:inline;
      }
      h3{
      font-family:roboto-thin;
      text-transform:uppercase;
      font-size:2vw;
      color:#ddd;
      }
      h2 {
      font-size:2vw;
      font-family: arial,sans-serif;
      color:#333;
      font-weight:normal;
      }
      #menu {
      position:fixed;
      height:100%;
      left:0px;
      background-color:#252525;
      padding-left:0px;
      }
      #logo {
      text-align:center;
      padding-top:1vh;
      cursor:pointer;
      }
      p {
      text-indent:2vw;
      }
      #hostelbutton {
      cursor:pointer;
      background-color:#2c2c2c;
      }
      #hotelbutton {
      cursor:pointer;
      }
      #restaurantbutton {
      cursor:pointer;
      }
      #barbutton {
      cursor:pointer;
      }
      #ratingbutton {
      cursor:pointer;
      }
      #rating {
      display:none
      }
      #hostel {
      }
      #hotel {
      display:none;
      }
      #bar {
      display:none;
      }
      #restaurant {
      display:none;
      }
      .row {
      margin-left:0px;
      }
      .col-xs-10 {
      padding-left:0px;
      }
      .nopadding {
      padding:0px;
      }
      .nrmr {
      margin:0px;
      }
      .map{
      height:100vh;
      width:100%;
      background-color:#2c2c2c;
      margin-right:auto;
      margin-left:auto;
      text-align:right;
      }
      .item {
      cursor:pointer;
      background-color:#eee;
      border-top:1px solid #ddd;
      }
      #sop {
      
      }   
  body
    script(src='https://api.tiles.mapbox.com/mapbox.js/v1.6.3/mapbox.js')   
    .container
      .row
        #menu.col-xs-2
          #logo.row
            .col-sx-12
              h1(style='font-size:5vw; color:#ddd;font-family:attentica;')
                | Top
                span(style='color:#ff9900;') &amp;
                | Views
          #hostelbutton.row(style='border-top:1px solid #2c2c2c;')
            .col-xs-12
              h3 &KHcy;&ocy;&scy;&tcy;&iecy;&lcy;&ycy;
          |        
          #hotelbutton.row(style='border-top:1px solid #2c2c2c;')
            .col-xs-12
              h3 &Ocy;&tcy;&iecy;&lcy;&icy;
          |        
          #barbutton.row(style='border-top:1px solid #2c2c2c;')
            .col-xs-12
              h3 &Bcy;&acy;&rcy;&ycy;
          |        
          #restaurantbutton.row(style='border-top:1px solid #2c2c2c;')
            .col-xs-12
              h3 &Rcy;&iecy;&scy;&tcy;&ocy;&rcy;&acy;&ncy;&ycy;
          |        
          #ratingbutton.row(style='border-top:1px solid #2c2c2c;')
            .col-xs-12
              h3(style='color:#00dc52;') &Ocy; &rcy;&iecy;&jcy;&tcy;&icy;&ncy;&gcy;&iecy;
        |      
        #hostel.col-xs-10.col-xs-offset-2(style='background-color:#eee;overflow:auto;')
          .row(style='background-color:white;')
            #sop.col-md-9.nopadding
              #mapitself.map
            |         
            .col-md-3.nopadding(style='height:100vh;overflow:auto;')
              #first.row.nopadding.nrmr.item
                .col-xs-12.nopadding
                  .row.nopadding.nrmr
                    .col-xs-12
                      h1  &Pcy;&iecy;&rcy;&vcy;&ycy;&jcy;
                  |              
                  .row.nopadding.nrmr
                    .col-xs-12
                      h5 &Rcy;&acy;&zcy;&ncy;&ycy;&iecy; &dcy;&iecy;&tcy;&acy;&lcy;&icy; &tcy;&icy;&pcy;&acy; &acy;&dcy;&rcy;&iecy;&scy;&acy;
              |           
              .row.nopadding.nrmr.item
                .col-xs-12.nopadding
                  .row.nopadding.nrmr
                    .col-xs-12
                      h1  &Ncy;&acy;&zcy;&vcy;&acy;&ncy;&icy;&iecy;
                  |              
                  .row.nopadding.nrmr
                    .col-xs-12
                      h5 &Rcy;&acy;&zcy;&ncy;&ycy;&iecy; &dcy;&iecy;&tcy;&acy;&lcy;&icy; &tcy;&icy;&pcy;&acy; &acy;&dcy;&rcy;&iecy;&scy;&acy;
              |           
              .row.nopadding.nrmr.item
                .col-xs-12.nopadding
                  .row.nopadding.nrmr
                    .col-xs-12
                      h1  &Ncy;&acy;&zcy;&vcy;&acy;&ncy;&icy;&iecy;
                  |              
                  .row.nopadding.nrmr
                    .col-xs-12
                      h5 &Rcy;&acy;&zcy;&ncy;&ycy;&iecy; &dcy;&iecy;&tcy;&acy;&lcy;&icy; &tcy;&icy;&pcy;&acy; &acy;&dcy;&rcy;&iecy;&scy;&acy;
              |           
              .row.nopadding.nrmr.item
                .col-xs-12.nopadding
                  .row.nopadding.nrmr
                    .col-xs-12
                      h1  &Ncy;&acy;&zcy;&vcy;&acy;&ncy;&icy;&iecy;
                  |              
                  .row.nopadding.nrmr
                    .col-xs-12
                      h5 &Rcy;&acy;&zcy;&ncy;&ycy;&iecy; &dcy;&iecy;&tcy;&acy;&lcy;&icy; &tcy;&icy;&pcy;&acy; &acy;&dcy;&rcy;&iecy;&scy;&acy;
              |           
              .row.nopadding.nrmr.item
                .col-xs-12.nopadding
                  .row.nopadding.nrmr
                    .col-xs-12
                      h1  &Ncy;&acy;&zcy;&vcy;&acy;&ncy;&icy;&iecy;
                  |              
                  .row.nopadding.nrmr
                    .col-xs-12
                      h5 &Rcy;&acy;&zcy;&ncy;&ycy;&iecy; &dcy;&iecy;&tcy;&acy;&lcy;&icy; &tcy;&icy;&pcy;&acy; &acy;&dcy;&rcy;&iecy;&scy;&acy;
              |           
              .row.nopadding.nrmr.item
                .col-xs-12.nopadding
                  .row.nopadding.nrmr
                    .col-xs-12
                      h1  &Ncy;&acy;&zcy;&vcy;&acy;&ncy;&icy;&iecy;
                  |              
                  .row.nopadding.nrmr
                    .col-xs-12
                      h5 &Rcy;&acy;&zcy;&ncy;&ycy;&iecy; &dcy;&iecy;&tcy;&acy;&lcy;&icy; &tcy;&icy;&pcy;&acy; &acy;&dcy;&rcy;&iecy;&scy;&acy;
              |           
              .row.nopadding.nrmr.item
                .col-xs-12.nopadding
                  .row.nopadding.nrmr
                    .col-xs-12
                      h1  &Ncy;&acy;&zcy;&vcy;&acy;&ncy;&icy;&iecy;
                  |              
                  .row.nopadding.nrmr
                    .col-xs-12
                      h5 &Rcy;&acy;&zcy;&ncy;&ycy;&iecy; &dcy;&iecy;&tcy;&acy;&lcy;&icy; &tcy;&icy;&pcy;&acy; &acy;&dcy;&rcy;&iecy;&scy;&acy;
              |           
              .row.nopadding.nrmr.item
                .col-xs-12.nopadding
                  .row.nopadding.nrmr
                    .col-xs-12
                      h1  &Ncy;&acy;&zcy;&vcy;&acy;&ncy;&icy;&iecy;
                  |              
                  .row.nopadding.nrmr
                    .col-xs-12
                      h5 &Rcy;&acy;&zcy;&ncy;&ycy;&iecy; &dcy;&iecy;&tcy;&acy;&lcy;&icy; &tcy;&icy;&pcy;&acy; &acy;&dcy;&rcy;&iecy;&scy;&acy;
            |         
            #clear.col-md-9.nopadding(style='height:100vh;')
              #mapitself.map
        |      
        #hotel.col-xs-10.col-xs-offset-2(style='background-color:#eee;overflow:auto;')
          .row(style='background-color:white;')
            #sop.col-md-9.nopadding
              #mapitselfhotel.map
                 script.
                   var map = L.mapbox.map('mapitselfhotel', 'jesusjesus.ie7kb67o');
                   map.featureLayer.setFilter(function(f) {
                   return f.properties['sort'] === 'something';
                   });
            
        #restaurant.col-xs-10.col-xs-offset-2(style='background-color:#eee;overflow:auto;')
          .row(style='background-color:white;')
            #sop.col-md-9.nopadding
              #mapitselfrestaurant.map

                    
        #bar.col-xs-10.col-xs-offset-2(style='background-color:#eee;overflow:auto;')
          .row(style='background-color:white;')
            #sop.col-md-9.nopadding
              #mapitselfbar.map
                 script.
                   var map = L.mapbox.map('mapitselfbar', 'jesusjesus.ie7kb67o');
                   map.featureLayer.setFilter(function(f) {
                   return f.properties['sort'] === 'topbar';
                   console.log('done');
                   });
               
        #rating.col-xs-10.col-xs-offset-2(style='background-color:#eee;overflow:auto;')
          .row
            .col-xs-12
              h1 &Ocy; &rcy;&iecy;&jcy;&tcy;&icy;&ncy;&gcy;&iecy;
    // jQuery (necessary for Bootstrap's JavaScript plugins)
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js')
    // Include all compiled plugins (below), or include individual files as needed
    script(src='/bootstrap/js/bootstrap.min.js')
    |     
    script.
      if ( document.documentElement.clientWidth < 1024) {
      $('#clear').empty();
      $('.map').css('height','50vh');
      $('#sop').css('display','block');
      }
      var map = L.mapbox.map('mapitself', 'jesusjesus.ie7kb67o');
      map.setView([55.753,  37.622], 14);
      map.scrollWheelZoom.disable();
      var cl={'first':[55.7508191,37.5996429]};
      function displaysect (current) {
      var titles = ['hostel','hotel','bar','restaurant','rating'];
      for (i of titles)
      {eval('if($("#'+i+'").css("display") != "none") {$("#'+i+'").css("display","none");$("#mapitself'+i+'").empty();} if($("#'+i+'button").css("background-color") != "#252525") {$("#'+i+'button").css("background-color","#252525");}')}
      eval('$("#'+current+'").css("display","block");$("#'+current+'button").css("background-color","#2c2c2c"); ')
      }
      function itemchoose (buttonid,item) {
      map.featureLayer.setFilter(function(f) {
      return f.properties['title'] === item;
      });
      eval('var coord = cl.'+buttonid+';');
      console.log(coord);
      map.setView(coord,14);
      eval("$('.item').css('background-color','#eee');$('#"+buttonid+"').css('background-color','#ddd');");
      }
      function loadmap (id,type) {
      var name = "'#maptself"+id+"'";
      $(name).append("<script>var map = L.mapbox.map(name, 'jesusjesus.ie7kb67o');map.setView([55.753,  37.622], 14);map.featureLayer.setFilter(function(f) {return f.properties['sort'] === 'type';console.log('done');});</script>");
      }
      $('#first').click(function(){
      itemchoose('first','HM Hostel');
      });
      $('#hostelbutton').click(function(){
      displaysect('hostel');
      });
      $('#hotelbutton').click(function(){
      displaysect('hotel');
      });
      $('#restaurantbutton').click(function(){
      loadmap(restaurant,restaurant);
      displaysect('restaurant');
      });
      $('#barbutton').click(function(){
      displaysect('bar');
      });
      $('#ratingbutton').click(function(){
      displaysect('rating');
      });
      $("#logo").click(function(){
      window.location='http://topandviews.ru';
      });
